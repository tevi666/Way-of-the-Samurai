"use strict";(self.webpackChunkkamasutra=self.webpackChunkkamasutra||[]).push([[34],{2034:function(t,s,e){e.r(s),e.d(s,{default:function(){return I}});var n=e(8683),r=e(5671),u=e(3144),o=e(136),i=e(2882),a=e(2791),p=e(8687),c=e(6508),l=e(2982),d="Post_item__Yu4oG",f=e(184),h=function(t){return(0,f.jsxs)("div",{className:d,children:[(0,f.jsx)("img",{src:"https://images.unsplash.com/photo-1595433707802-6b2626ef1c91?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80"}),t.message,(0,f.jsx)("div",{children:(0,f.jsxs)("span",{children:[t.likesCount," like"]})})]})},x={postsBlock:"MyPosts_postsBlock__lB-pf",posts:"MyPosts_posts__GSiZ2"},j=e(6139),m=e(704),v=e(5304),g=e(7517),Z=a.memo((function(t){return(0,f.jsxs)("div",{className:x.postBlock,children:[(0,f.jsx)("h3",{children:"My posts"}),(0,f.jsx)(P,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,f.jsx)("div",{className:x.posts,children:(0,l.Z)(t.posts).reverse().map((function(t){return(0,f.jsx)(h,{message:t.message,likesCount:t.likesCount},t.id)}))})]})})),k=(0,v.D)(10),P=(0,m.Z)({form:"profileAddNewPostForm"})((function(t){return(0,f.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,f.jsx)("div",{children:(0,f.jsx)(j.Z,{name:"newPostText",component:g.gx,placeholder:"Post message",validate:[v.C,k]})}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{children:"Add post"})})]})})),S=Z,C=(0,p.$j)((function(t){return{posts:t.profilePage.posts,newPostText:t.profilePage.newPostText}}),(function(t){return{addPost:function(s){t((0,c.Wl)(s))}}}))(S),_=e(637),b="ProfileInfo_descriptionBlock__XBXuJ",B=(a.Component,e(885)),w=function(t){var s=(0,a.useState)(!1),e=(0,B.Z)(s,2),n=e[0],r=e[1],u=(0,a.useState)(t.status),o=(0,B.Z)(u,2),i=o[0],p=o[1];(0,a.useEffect)((function(){p(t.status)}),[t.status]);return(0,f.jsxs)("div",{children:[!n&&(0,f.jsx)("div",{children:(0,f.jsx)("span",{onDoubleClick:function(){r(!0)},children:t.status||(0,f.jsx)(_.Z,{})})}),n&&(0,f.jsx)("div",{children:(0,f.jsx)("input",{autoFocus:!0,onBlur:function(){r(!1),t.updateStatus(i)},onChange:function(t){p(t.currentTarget.value)},value:i})})]})},y=function(t){var s=t.profile,e=t.status,n=t.updateStatus;return s?(0,f.jsx)("div",{children:(0,f.jsxs)("div",{className:b,children:[(0,f.jsx)("img",{src:s.photos.large}),(0,f.jsx)(w,{status:e,updateStatus:n})]})}):(0,f.jsx)(_.Z,{})},A=function(t){return(0,f.jsxs)("div",{children:[(0,f.jsx)(y,{profile:t.profile,status:t.status,updateStatus:t.updateStatus}),(0,f.jsx)(C,{})]})},M=e(6871),T=e(2291),N=e(7781),D=function(t){(0,o.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,r.Z)(this,e),s.apply(this,arguments)}return(0,u.Z)(e,[{key:"componentDidMount",value:function(){var t=this,s=this.props.router.params.userId;if(!s&&!(s=this.props.authorizedUserId))return(0,f.jsx)(M.Fg,{to:"/login"});this.props.getUserProfile(s),setTimeout((function(){t.props.getStatus(s)}),1e3)}},{key:"render",value:function(){return(0,f.jsx)("div",{children:(0,f.jsx)(A,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))})}}]),e}(a.Component);var I=(0,N.qC)((0,p.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:c.et,getStatus:c.lR,updateStatus:c.Nf}),(function(t){return function(s){var e=(0,M.TH)(),r=(0,M.s0)(),u=(0,M.UO)();return(0,f.jsx)(t,(0,n.Z)((0,n.Z)({},s),{},{router:{location:e,navigate:r,params:u}}))}}),T.S)(D)},2291:function(t,s,e){e.d(s,{S:function(){return f}});var n=e(8683),r=e(5671),u=e(3144),o=e(136),i=e(2882),a=e(2791),p=e(8687),c=e(6871),l=e(184),d=function(t){return{isAuth:t.auth.isAuth}},f=function(t){var s=function(s){(0,o.Z)(a,s);var e=(0,i.Z)(a);function a(){return(0,r.Z)(this,a),e.apply(this,arguments)}return(0,u.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,l.jsx)(t,(0,n.Z)({},this.props)):(0,l.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,p.$j)(d)(s)}}}]);
//# sourceMappingURL=34.8c303083.chunk.js.map