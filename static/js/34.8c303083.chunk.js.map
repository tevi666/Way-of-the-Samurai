{"version":3,"file":"static/js/34.8c303083.chunk.js","mappings":"oPACA,EAAuB,mB,SCcvB,EAZa,SAACA,GACZ,OACE,iBAAKC,UAAWC,EAAhB,WACE,gBAAKC,IAAI,kJACRH,EAAMI,SACP,0BACE,4BAAOJ,EAAMK,WAAb,eAIP,ECZD,GAAgB,WAAa,4BAA4B,MAAQ,wB,uCCM3DC,EAAUC,EAAAA,MAAW,SAACP,GAM1B,OACE,iBAAKC,UAAWC,EAAAA,UAAhB,WACE,sCACA,SAACM,EAAD,CAAqBC,SAPT,SAACC,GACfV,EAAMW,QAAQD,EAAOE,YACtB,KAMG,gBAAKX,UAAWC,EAAAA,MAAhB,UACE,OAAIF,EAAMa,OACTC,UACAC,KAAI,SAACC,GAAD,OAAO,SAAC,EAAD,CAAiBZ,QAASY,EAAEZ,QAASC,WAAYW,EAAEX,YAAxCW,EAAEC,GAApB,QAKZ,IACKC,GAAcC,EAAAA,EAAAA,GAAiB,IAc/BX,GAAsBY,EAAAA,EAAAA,GAAU,CAAEC,KAAM,yBAAlBD,EAZL,SAACpB,GACtB,OACE,kBAAMS,SAAUT,EAAMsB,aAAtB,WACE,0BACE,SAACC,EAAA,EAAD,CAAOC,KAAK,cAAcC,UAAWC,EAAAA,GAAUC,YAAY,eAAeC,SAAU,CAACC,EAAAA,EAAUX,QAEjG,0BACE,6CAIP,IAGD,ICtBA,GAFyBY,EAAAA,EAAAA,KAdA,SAACC,GACxB,MAAO,CACLlB,MAAOkB,EAAMC,YAAYnB,MACzBD,YAAamB,EAAMC,YAAYpB,YAElC,IAC0B,SAACqB,GAC1B,MAAO,CACLtB,QAAS,SAACC,GACRqB,GAASC,EAAAA,EAAAA,IAAqBtB,GAC/B,EAEJ,GAEwBkB,CAA8CxB,G,SCjBvE,EAAmC,sC,GCEPC,EAAAA,U,QCoC5B,EAnC+B,SAACP,GAE5B,OAAgCmC,EAAAA,EAAAA,WAAS,GAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KACA,GAA4BF,EAAAA,EAAAA,UAASnC,EAAMsC,QAA3C,eAAOA,EAAP,KAAeC,EAAf,MAEAC,EAAAA,EAAAA,YAAU,WACND,EAAUvC,EAAMsC,OACnB,GAAE,CAACtC,EAAMsC,SAYV,OACI,4BACMF,IACE,0BACI,iBAAMK,cAdG,WACrBJ,GAAY,EACf,EAYe,SAAwCrC,EAAMsC,SAAU,SAACI,EAAA,EAAD,QAG/DN,IACG,0BACI,kBAAOO,WAAW,EAAMC,OAhBb,WACvBP,GAAY,GACZrC,EAAM6C,aAAaP,EACtB,EAamEQ,SAZ7C,SAACC,GACpBR,EAAUQ,EAAEC,cAAcC,MAC7B,EAU6FA,MAAOX,QAKxG,EClBD,EAboB,SAAC,GAAqC,IAApCY,EAAmC,EAAnCA,QAASZ,EAA0B,EAA1BA,OAAQO,EAAkB,EAAlBA,aACrC,OAAKK,GAIH,0BACE,iBAAKjD,UAAWC,EAAhB,WAAoC,gBAAKC,IAAK+C,EAAQC,OAAOC,SAC7D,SAAC,EAAD,CAAwBd,OAAQA,EAAQO,aAAcA,UALjD,SAACH,EAAA,EAAD,GASV,ECJD,EATgB,SAAC1C,GACf,OACE,4BACE,SAAC,EAAD,CAAakD,QAASlD,EAAMkD,QAASZ,OAAQtC,EAAMsC,OAAQO,aAAc7C,EAAM6C,gBAC/E,SAAC,EAAD,MAGL,E,8BCFKQ,EAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,OAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,EAAAA,MAAAA,KAAAA,UAAAA,CA0BD,OA1BCA,EAAAA,EAAAA,GAAAA,EAAAA,CAAAA,CAAAA,IAAAA,oBAAAA,MAEF,WAAqB,IAAD,OAEZC,EAASC,KAAKvD,MAAMwD,OAAOC,OAAOH,OACtC,IAAKA,KACDA,EAASC,KAAKvD,MAAM0D,kBAEhB,OAAO,SAAC,KAAD,CAAUC,GAAG,WAG5BJ,KAAKvD,MAAM4D,eAAeN,GAC1BO,YAAW,WACP,EAAK7D,MAAM8D,UAAUR,EACxB,GAAE,IACN,uBAED,WACI,OACI,0BACI,SAAC,GAAD,kBAAaC,KAAKvD,OAAlB,IACAkD,QAASK,KAAKvD,MAAMkD,QACpBZ,OAAQiB,KAAKvD,MAAMsC,OACnBO,aAAcU,KAAKvD,MAAM6C,iBAGpC,OA1BCQ,CAAyB9C,EAAAA,WAgD/B,IAQA,GAAewD,EAAAA,EAAAA,KACXjC,EAAAA,EAAAA,KATkB,SAACC,GAAD,MAAY,CAC9BmB,QAASnB,EAAMC,YAAYkB,QAC3BZ,OAAQP,EAAMC,YAAYM,OAC1BoB,iBAAkB3B,EAAMiC,KAAKV,OAC7BW,OAAQlC,EAAMiC,KAAKC,OAJD,GASO,CACrBL,eAAAA,EAAAA,GACAE,UAAAA,EAAAA,GACAjB,aAAAA,EAAAA,MA9BR,SAAoBqB,GAehB,OAbA,SAAiClE,GAE7B,IAAImE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXb,GAASc,EAAAA,EAAAA,MACb,OACI,SAACL,GAAD,kBACQlE,GADR,IAEIwD,OAAQ,CAAEW,SAAAA,EAAUE,SAAAA,EAAUZ,OAAAA,KAGzC,CAGJ,GAiBGe,EAAAA,EAPJ,CAQEnB,E,mJCrEEoB,EAA6B,SAAC1C,GAAD,MAAY,CACzCkC,OAAQlC,EAAMiC,KAAKC,OADU,EAIpBO,EAAmB,SAACN,GAAe,IACtCQ,EADqC,0IAEvC,WACI,OAAKnB,KAAKvD,MAAMiE,QAET,SAACC,GAAD,UAAeX,KAAKvD,SAFI,SAAC,KAAD,CAAU2D,GAAG,UAG/C,KANsC,GACXpD,EAAAA,WAQhC,OADqCuB,EAAAA,EAAAA,IAAQ2C,EAAR3C,CAAoC4C,EAE5E,C","sources":["webpack://kamasutra/./src/components/Profile/MyPosts/Post/Post.module.css?87e6","components/Profile/MyPosts/Post/Post.jsx","webpack://kamasutra/./src/components/Profile/MyPosts/MyPosts.module.css?831b","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","webpack://kamasutra/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/withAuthNavigate.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Post_item__Yu4oG\"};","import React from \"react\";\nimport s from \"./Post.module.css\";\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <img src=\"https://images.unsplash.com/photo-1595433707802-6b2626ef1c91?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxleHBsb3JlLWZlZWR8MXx8fGVufDB8fHx8&w=1000&q=80\" />\n      {props.message}\n      <div>\n        <span>{props.likesCount} like</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__lB-pf\",\"posts\":\"MyPosts_posts__GSiZ2\"};","import React from \"react\";\nimport Post from \"./Post/Post\";\nimport s from \"./MyPosts.module.css\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { maxLengthCreator, required } from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../common/Preloader/FormsControls/FormsControls\";\n\nconst MyPosts = React.memo((props) => {\n\n  let onAddPost = (values) => {\n    props.addPost(values.newPostText);\n  };\n\n  return (\n    <div className={s.postBlock}>\n      <h3>My posts</h3>\n      <AddNewPostFormRedux onSubmit={onAddPost} />\n      <div className={s.posts}>{\n        [...props.posts]\n        .reverse()\n        .map((p) => <Post key={p.id} message={p.message} likesCount={p.likesCount} />)\n      }\n      </div>\n    </div>\n  );\n});\nconst maxLength10 = maxLengthCreator(10);\n\nconst addNewPostForm = (props) => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field name='newPostText' component={Textarea} placeholder='Post message' validate={[required, maxLength10]} />\n      </div>\n      <div>\n        <button>Add post</button>\n      </div>\n    </form>\n  )\n}\nconst AddNewPostFormRedux = reduxForm({ form: 'profileAddNewPostForm' })(addNewPostForm)\n\nexport default MyPosts;","import { connect } from \"react-redux\";\nimport { addPostActionCreator } from \"../../../redux/profileReducer\";\nimport MyPosts from \"./MyPosts\";\n\nconst DialogsContainer = (state) => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addPost: (newPostText) => {\n      dispatch(addPostActionCreator(newPostText));\n    }\n  };\n};\n\nconst MyPostsContainer = connect(DialogsContainer, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__XBXuJ\"};","import React from 'react';\nimport Preloader from '../../common/Preloader/Preloader';\n\nclass ProfileStatus extends React.Component {\n    state = {\n        editMode: false,\n        status: this.props.ststus\n    }\n    activateEditMode = () => {\n        this.setState({\n            editMode: true\n        })\n    }\n    deactivateEditMode = () => {\n        this.setState({\n            editMode: false\n        })\n        this.props.updateStatus(this.state.status)\n    }\n    onStatusChange = (e) => {\n        this.setState({\n            status: e.currentTarget.value\n        });\n    };\n    componentDidUpdate(prevProps, prevState) {\n        if (prevProps.status !== this.props.status) {\n            this.setState({\n                status: this.props.status\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {!this.state.editMode &&\n                    <div>\n                        <span onDoubleClick={this.activateEditMode}>{this.props.status || <Preloader />}</span>\n                    </div>\n                }\n                {this.state.editMode &&\n                    <div>\n                        <input onChange={this.onStatusChange} autoFocus={true} onBlur={this.deactivateEditMode} value={this.state.status} />\n                    </div>\n                }\n            </div>\n        );\n    }\n};\n\nexport default ProfileStatus;","import React, { useEffect } from 'react';\nimport { useState } from 'react';\nimport Preloader from '../../common/Preloader/Preloader';\n\nconst ProfileStatusWithHooks = (props) => {\n\n    const [editMode, setEditMode] = useState(false);\n    const [status, setStatus] = useState(props.status);\n\n    useEffect(() => {\n        setStatus(props.status);\n    }, [props.status]);\n\n    const activateEditMode = () => {\n        setEditMode(true);\n    };\n    const deactivateEditMode = () => {\n        setEditMode(false);\n        props.updateStatus(status);\n    };\n    const onStatusChange = (e) => {\n        setStatus(e.currentTarget.value);\n    };\n    return (\n        <div>\n            {!editMode &&\n                <div>\n                    <span onDoubleClick={activateEditMode}>{props.status || <Preloader />}</span>\n                </div>\n            }\n            {editMode &&\n                <div>\n                    <input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange} value={status} />\n                </div>\n            }\n        </div>\n    );\n};\n\nexport default ProfileStatusWithHooks;","import React from \"react\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport s from \"./ProfileInfo.module.css\";\nimport ProfileStatus from './ProfileStatus';\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nconst ProfileInfo = ({profile, status, updateStatus}) => {\n  if (!profile) {\n    return <Preloader />\n  }\n  return (\n    <div>\n      <div className={s.descriptionBlock}><img src={profile.photos.large} />\n      <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;","import React from \"react\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\n\nconst Profile = (props) => {\n  return (\n    <div>\n      <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;","import React from \"react\";\nimport Profile from \"./Profile\";\nimport { connect } from \"react-redux\";\nimport { getUserProfile, getStatus, updateStatus } from \"../../redux/profileReducer\";\nimport { Navigate, useLocation, useNavigate, useParams } from \"react-router-dom\";\nimport { withAuthNavigate } from \"../../hoc/withAuthNavigate\";\nimport { compose } from \"redux\";\n\n\nclass ProfileContainer extends React.Component {\n\n    componentDidMount() {\n\n        let userId = this.props.router.params.userId;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                return <Navigate to='/login' />\n            }\n        }\n        this.props.getUserProfile(userId);\n        setTimeout(() => {\n            this.props.getStatus(userId);\n        }, 1000);\n    }\n\n    render() {\n        return (\n            <div>\n                <Profile {...this.props}\n                profile={this.props.profile} \n                status={this.props.status} \n                updateStatus={this.props.updateStatus} />\n            </div>\n        )\n    }\n}\n\n// wrapper to use react router's v6 hooks in class component (to use HOC pattern, like in router v5)\nfunction withRouter(Component) {\n\n    function ComponentWithRouterProp(props) {\n\n        let location = useLocation();\n        let navigate = useNavigate();\n        let params = useParams();\n        return (\n            <Component\n                {...props}\n                router={{ location, navigate, params }}\n            />\n        );\n    }\n\n    return ComponentWithRouterProp;\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n\n})\n\nexport default compose(\n    connect(mapStateToProps, {\n        getUserProfile,\n        getStatus,\n        updateStatus\n    }),\n    withRouter,\n    withAuthNavigate\n)(ProfileContainer);","import React from 'react'\nimport { connect } from 'react-redux';\nimport { Navigate } from \"react-router-dom\"\n\nlet mapStateToPropsForNavigate = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport const withAuthNavigate = (Component) => {\n    class NavigateComponent extends React.Component {\n        render() {\n            if (!this.props.isAuth) return <Navigate to='/login' />\n\n            return <Component {...this.props} />\n        }\n    }\n    let ConnectedAuthNavigateComponent = connect(mapStateToPropsForNavigate)(NavigateComponent);\n    return ConnectedAuthNavigateComponent;\n};"],"names":["props","className","s","src","message","likesCount","MyPosts","React","AddNewPostFormRedux","onSubmit","values","addPost","newPostText","posts","reverse","map","p","id","maxLength10","maxLengthCreator","reduxForm","form","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","connect","state","profilePage","dispatch","addPostActionCreator","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","Preloader","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","profile","photos","large","ProfileContainer","userId","this","router","params","authorizedUserId","to","getUserProfile","setTimeout","getStatus","compose","auth","isAuth","Component","location","useLocation","navigate","useNavigate","useParams","withAuthNavigate","mapStateToPropsForNavigate","NavigateComponent"],"sourceRoot":""}